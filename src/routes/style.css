@import 'tailwindcss';
@plugin '@tailwindcss/forms';
@plugin '@tailwindcss/typography';

@font-face {
    font-family: Slabo;
    src: url('/fonts/Slabo13px-Regular.woff2') format('woff2');
    font-weight: normal;
    font-style: normal;
    font-display: swap;
}

@theme {
 --color-black: #000000;
 --color-primary: #B4332B;
 --color-secondary: #0D3870;
}

:root {
 --color-bust-fr: #577BB7;
 --color-bust-ru: #6A9656;
 --color-bust-at: #FAD265;
 --color-bust-fr-dark: #37507A;
 --color-bust-ru-dark: #436038;
 --color-bust-at-dark: #A08640;
}

@layer utilities {
  body {
   font-family: Slabo, sans-serif;
   font-optical-sizing: auto;
   font-style: normal;
   font-weight: 400;
   font-variant-numeric: lining-nums;
   font-feature-settings: "lnum" 1;
   text-rendering: optimizelegibility;
   color: var(--color-black);
  }

  .stroke {
    filter: drop-shadow(5px 0 0 var(--color-secondary)) 
    drop-shadow(0 5px 0 var(--color-secondary))
    drop-shadow(-5px 0 0 var(--color-secondary)) 
    drop-shadow(0 -5px 0 var(--color-secondary));
  }

  .stroke-sm {
    filter: drop-shadow(3px 0 0 var(--color-secondary)) 
    drop-shadow(0 3px 0 var(--color-secondary))
    drop-shadow(-3px 0 0 var(--color-secondary)) 
    drop-shadow(0 -3px 0 var(--color-secondary));
  }

  @keyframes unit-drop {
   0% {
    transform: translateY(-20%) scale(1.2);
    opacity: 0.5;
   }
   70% {
    transform: translateY(5%) scale(0.95);
    opacity: 1;
   }
   100% {
    transform: translateY(0) scale(1);
    opacity: 1;
   }
  }

  .unit-drop {
   animation: unit-drop 0.25s ease-out both;
  }

  @keyframes card-drop {
   0% {
    transform: translateY(-30%) scale(1.15);
    opacity: 0;
   }
   60% {
    transform: translateY(4%) scale(0.97);
    opacity: 1;
   }
   100% {
    transform: translateY(0) scale(1);
    opacity: 1;
   }
  }

  .card-drop {
   animation: card-drop 0.35s ease-out both;
  }

 .dice-float {
  display: flex;
  flex-direction: column;
  align-items: center;
  animation: dice-hover 2s ease-in-out infinite;
  perspective: 800px;
 }

 .dice-float img {
  transform: rotateX(15deg) rotateY(-10deg);
 }

 .dice-shadow {
  width: 3rem;
  height: 0.5rem;
  margin-top: 0.25rem;
  border-radius: 50%;
  background: rgba(0, 0, 0, 0.25);
  filter: blur(3px);
  animation: shadow-pulse 2s ease-in-out infinite;
 }

 @keyframes dice-hover {
  0%, 100% {
   transform: translateY(0);
  }
  50% {
   transform: translateY(-8px);
  }
 }

 @keyframes shadow-pulse {
  0%, 100% {
   transform: scale(1);
   opacity: 0.5;
  }
  50% {
   transform: scale(0.75);
   opacity: 0.3;
  }
 }

 /* Dice rolling animation */
 .dice-rolling {
  animation:
   dice-spin 2s cubic-bezier(0.2, 0, 0.2, 1) forwards,
   dice-blur 2s ease-out forwards;
  transform-origin: center center;
 }

 @keyframes dice-spin {
  0%   { rotate: 0deg; translate: 0 0; }
  8%   { translate: 25px -30px; }
  16%  { translate: -20px -40px; }
  24%  { translate: 30px -15px; }
  32%  { translate: -25px -35px; }
  40%  { translate: 22px -28px; }
  48%  { translate: -18px -32px; }
  56%  { translate: 14px -18px; }
  64%  { translate: -10px -12px; }
  77%  { translate: 6px -8px; }
  90%  { translate: -3px -4px; }
  100% { rotate: 1080deg; translate: 0 0; }
 }

 @keyframes dice-blur {
  0%   { filter: blur(0px) drop-shadow(0 4px 6px rgba(0,0,0,0.3)); }
  15%  { filter: blur(2.5px) drop-shadow(0 4px 6px rgba(0,0,0,0.3)); }
  60%  { filter: blur(1.5px) drop-shadow(0 4px 6px rgba(0,0,0,0.3)); }
  85%  { filter: blur(0.3px) drop-shadow(0 6px 8px rgba(0,0,0,0.35)); }
  100% { filter: blur(0px) drop-shadow(0 8px 12px rgba(0,0,0,0.4)); }
 }

 .shadow-rolling {
  animation: shadow-roll 2s ease-out forwards !important;
 }

 @keyframes shadow-roll {
  0% { transform: scale(1) translateX(0); opacity: 0.3; }
  20% { transform: scale(0.5) translateX(15px); opacity: 0.15; }
  40% { transform: scale(0.55) translateX(-12px); opacity: 0.18; }
  60% { transform: scale(0.7) translateX(8px); opacity: 0.22; }
  80% { transform: scale(0.9) translateX(-3px); opacity: 0.28; }
  100% { transform: scale(1) translateX(0); opacity: 0.3; }
 }

 .roll-result {
  transform: scale(0);
  animation: result-pop 0.4s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
 }

 @keyframes result-pop {
  0% { transform: scale(0); opacity: 0; }
  100% { transform: scale(1); opacity: 1; }
 }
}
